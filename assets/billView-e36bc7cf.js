import{_ as m,R as u,b as p,v as a,r as b,o as d,c as r,a as t,t as o,d as n,n as h,e as y,f,w as v,g}from"./index-fb61a728.js";const x="/coupon/assets/icons8-info-success-38adac5f.svg";const D={data(){return{isLoading:!1,billDetail:{plate:"ABC-1111",amount:50,location:"台中誠品",inTime:"2023-01-01 11:11:11",totalDiscount:1,discount:{buffer:.5,coupon:.5}},isScan:!0,discountInfo:{discountNum:"",invoiceAmount:null}}},components:{RouterView:u,RouterLink:p,QrStream:a.QrStream,QrCapture:a.QrCapture,QrDropzone:a.QrDropzone},methods:{openModal(){const i=new bootstrap.Modal(document.getElementById("discountModal")),e=document.getElementById("toggleMyModal");i.show(e),console.log("QrStream",a.QrStream),console.log("QrCapture",a.QrCapture),console.log("QrDropzone",a.QrDropzone)},scanInput(){this.isScan=!this.isScan,this.isScan&&console.log(this.isScan)},getDiscount(){console.log(this.discountInfo),new bootstrap.Modal(document.getElementById("discountModal")),document.getElementById("toggleMyModal")}},mounted(){}},C=t("div",{class:"bg-dark text-white text-center py-3 mb-3"},"停車費繳費",-1),M={class:"container"},k={class:"plate-bg"},w={class:"billDetail mt-2"},I={class:"detailContent"},Q={class:"amount"},S=t("p",{class:"text-secondary pt-3 ps-3"},"應繳金額",-1),B={class:"text-center"},N={class:"fs-3"},V={class:"detail"},E={class:"text-secondary"},z={class:"text-primary"},R={class:"text-secondary"},T={class:"text-primary"},j={class:"text-secondary"},L={class:"text-primary"},q={class:"btns d-flex justify-content-around"},A={key:0,class:"warningInfo"},F=t("p",{class:"text-success fs-6 mt-1"},[t("img",{src:x,alt:"info-icon"}),n(" 無需繳費，請儘速離場，謝謝！")],-1),G=[F],H={class:"discountDetail mt-2 pb-2"},J=t("p",{class:"text-center"},"折抵明細",-1),K={class:"text-secondary"},O={class:"text-primary"},P={class:"text-secondary"},U={class:"text-primary"},W={class:"modal fade",id:"discountModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},X={class:"modal-dialog modal-sm position-absolute top-40 start-50 translate-middle",style:{width:"75%"}},Y={class:"modal-content"},Z=t("div",{class:"modal-header"},[t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),$={class:"modal-body"},tt={key:0},st={class:"scan"},ot={class:"stream"},et=t("div",{style:{color:"red"},class:"frame"},null,-1),nt={class:"result"},at={key:1},lt=g('<div class="mb-3"><label for="exampleFormControlInput1" class="form-label">折扣券號碼或發票號碼<span class="text-danger">*</span></label><input type="text" class="form-control" id="discountNum" placeholder="請輸入折扣券號碼或發票號碼"></div><div class="mb-3"><label for="exampleFormControlInput1" class="form-label">發票金額</label><input type="text" class="form-control" id="discountNum" placeholder="請輸入發票金額"></div>',2),it=[lt],ct={class:"modal-footer"},dt={class:"d-flex justify-content-between"},rt={class:"d-flex justify-content-between"},_t=t("button",{type:"button",class:"btn btn-sm btn-outline-secondary me-1","data-bs-dismiss":"modal"},"取消",-1);function mt(i,e,ut,pt,s,l){const _=b("qr-stream");return d(),r("main",null,[C,t("div",M,[t("div",k,o(s.billDetail.plate),1),t("div",w,[t("div",I,[t("div",Q,[S,t("p",B,[n("NT$ "),t("span",N,o(s.billDetail.amount),1)])]),t("div",V,[t("p",E,[n("停車地點"),t("span",z,"　"+o(s.billDetail.location),1)]),t("p",R,[n("進場時間"),t("span",T,"　"+o(s.billDetail.inTime),1)]),t("p",j,[n("折抵時數"),t("span",L,"　"+o(s.billDetail.totalDiscount)+" 小時",1)])]),t("div",q,[t("button",{class:"btn btn-primary",id:"toggleMyModal",onClick:e[0]||(e[0]=(...c)=>l.openModal&&l.openModal(...c))},"發票折抵"),t("button",{class:h(["btn",s.billDetail.amount==0?"btn-secondary":"btn-primary"])},"繳費離場",2)]),s.billDetail.amount==0?(d(),r("div",A,G)):y("",!0),t("div",H,[J,t("p",K,[n("緩衝時間"),t("span",O,"　"+o(s.billDetail.discount.buffer)+" 小時",1)]),t("p",P,[n("發票折抵"),t("span",U,"　"+o(s.billDetail.discount.coupon)+" 小時",1)])])])]),t("div",W,[t("div",X,[t("div",Y,[Z,t("div",$,[s.isScan?(d(),r("div",tt,[t("div",st,[t("div",ot,[f(_,{onDecode:i.onDecode,class:"mb"},{default:v(()=>[et]),_:1},8,["onDecode"])]),t("div",nt," Result: "+o(i.data),1)])])):(d(),r("div",at,it))]),t("div",ct,[t("div",dt,[t("button",{class:"btn btn-primary me-4",onClick:e[1]||(e[1]=(...c)=>l.scanInput&&l.scanInput(...c))},o(s.isScan?"手動輸入":"掃描輸入"),1),t("div",rt,[_t,t("button",{type:"button",class:"btn btn-sm btn-outline-primary",onClick:e[2]||(e[2]=c=>l.getDiscount(s.discountInfo))},"確認")])])])])])])])])}const ht=m(D,[["render",mt]]);export{ht as default};
